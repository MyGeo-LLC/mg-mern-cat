(this["webpackJsonpmern-project"]=this["webpackJsonpmern-project"]||[]).push([[0],{147:function(e,t,r){},148:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r.n(c),n=r(14),s=r.n(n),i=r(92),l=r(17),o=r(206),j=r(3);var d=()=>{const[e,t]=Object(c.useState)([]),[r,a]=Object(c.useState)({name:"",email:"",role:"user"});Object(c.useEffect)((()=>{n()}),[]);const n=async()=>{try{const e=await o.a.get("/api/users");t(e.data)}catch(e){console.error("Error fetching users:",e)}};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Admin Panel"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"text",placeholder:"Name",value:r.name,onChange:e=>a({...r,name:e.target.value})}),Object(j.jsx)("input",{type:"email",placeholder:"Email",value:r.email,onChange:e=>a({...r,email:e.target.value})}),Object(j.jsxs)("select",{value:r.role,onChange:e=>a({...r,role:e.target.value}),children:[Object(j.jsx)("option",{value:"user",children:"User"}),Object(j.jsx)("option",{value:"admin",children:"Admin"})]}),Object(j.jsx)("button",{onClick:async()=>{try{await o.a.post("/api/users",r),n(),a({name:"",email:"",role:"user"})}catch(e){console.error("Error adding user:",e)}},children:"Add User"})]}),Object(j.jsx)("ul",{children:e.map((e=>Object(j.jsxs)("li",{children:[e.name," - ",e.role,Object(j.jsx)("button",{onClick:()=>(async(e,t)=>{try{await o.a.put("/api/users/".concat(e),t),n()}catch(r){console.error("Error modifying user:",r)}})(e._id,{...e,role:"user"===e.role?"admin":"user"}),children:"Toggle Role"}),Object(j.jsx)("button",{onClick:()=>(async e=>{try{await o.a.delete("/api/users/".concat(e)),n()}catch(t){console.error("Error deleting user:",t)}})(e._id),children:"Delete"})]},e._id)))})]})};const u=o.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:5000"});var b=u;const h=Object(c.createContext)(),O=e=>{let{children:t}=e;const[r,a]=Object(c.useState)(null),n=Object(l.f)();return Object(c.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("user"));e&&a(e)}),[]),Object(j.jsx)(h.Provider,{value:{user:r,login:async(e,t)=>{try{const r=await b.login({email:e,password:t});a(r.data),localStorage.setItem("user",JSON.stringify(r.data)),n.push("/")}catch(r){console.error("Login failed",r)}},logout:()=>{a(null),localStorage.removeItem("user"),n.push("/login")}},children:t})};r(86);var m=r(73),x=r.n(m),g=r(208),v=r(209),p=r(62);var f=e=>{let{id:t}=e;const r=Object(p.b)(),c=Object(p.c)((e=>e.radioHeads.find((e=>e.id===t))));if(!c)return null;const a=(e,c)=>{r(setVolume({id:t,type:e,value:c}))};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:["RadioHead ",t]}),Object(j.jsx)(g.a,{value:c.incomingVolume,onChange:(e,t)=>a("incoming",t),"aria-labelledby":"incoming-volume-slider"}),Object(j.jsx)(g.a,{value:c.outgoingVolume,onChange:(e,t)=>a("outgoing",t),"aria-labelledby":"outgoing-volume-slider"}),Object(j.jsx)(g.a,{value:c.masterVolume,onChange:(e,t)=>a("master",t),"aria-labelledby":"master-volume-slider"}),Object(j.jsx)(v.a,{onClick:()=>{r(toggleMute(t))},children:c.isMuted?"Unmute":"Mute"})]})};var S=e=>{let{id:t}=e;return Object(j.jsx)(x.a,{children:Object(j.jsx)("div",{className:"draggable-item",children:Object(j.jsx)(f,{id:t})})})};var y=e=>{let{id:t}=e;return Object(j.jsx)("div",{children:Object(j.jsxs)("h3",{children:["Widget ",t]})})};var C=e=>{let{id:t}=e;return Object(j.jsx)(x.a,{children:Object(j.jsx)("div",{className:"draggable-item",children:Object(j.jsx)(y,{id:t})})})};var E=()=>Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsx)(S,{id:"1"}),Object(j.jsx)(S,{id:"2"}),Object(j.jsx)(C,{id:"1"})]}),P=r(201),_=r(205),w=r(207),R=r(210);var N=function(){const{login:e}=Object(c.useContext)(h),[t,r]=Object(c.useState)(""),[a,n]=Object(c.useState)("");return Object(j.jsxs)(P.a,{maxWidth:"xs",children:[Object(j.jsx)(_.a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Login"}),Object(j.jsxs)("form",{onSubmit:r=>{r.preventDefault(),e(t,a)},children:[Object(j.jsx)(w.a,{label:"Email",fullWidth:!0,margin:"normal",value:t,onChange:e=>r(e.target.value)}),Object(j.jsx)(w.a,{label:"Password",type:"password",fullWidth:!0,margin:"normal",value:a,onChange:e=>n(e.target.value)}),Object(j.jsx)(R.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Login"})]})]})};const I=Object(c.createContext)(),T=e=>{let{children:t}=e;const[r,a]=Object(c.useState)([]);return Object(j.jsx)(I.Provider,{value:{messages:r,addMessage:e=>{a([...r,e])},removeMessage:e=>{a(r.filter(((t,r)=>r!==e)))}},children:t})},W=Object(c.createContext)(),A=e=>{let{children:t}=e;const[r,a]=Object(c.useState)([]);return Object(c.useEffect)((()=>{(async()=>{try{const e=await b.getPermissions();a(e.data)}catch(e){console.error("Failed to fetch permissions",e)}})()}),[]),Object(j.jsx)(W.Provider,{value:{permissions:r},children:t})};var H=r(211);const D=Object(c.createContext)(),L=e=>{let{children:t}=e;const[r,a]=Object(c.useState)({dpi:96,resolution:{width:1920,height:1080}});return Object(j.jsx)(D.Provider,{value:{preferences:r,setPreferences:a},children:t})};var U=()=>{const{preferences:e,setPreferences:t}=Object(c.useContext)(D),r=(e,r)=>{const c=e.target.value;t((e=>({...e,resolution:{...e.resolution,[r]:c}})))};return Object(j.jsxs)("div",{children:[Object(j.jsx)(_.a,{variant:"h4",children:"Profile Settings"}),Object(j.jsx)(_.a,{children:"DPI"}),Object(j.jsx)(H.a,{value:e.dpi,onChange:(e,r)=>{t((e=>({...e,dpi:r})))},min:50,max:300,"aria-labelledby":"dpi-slider"}),Object(j.jsx)(_.a,{children:"Resolution"}),Object(j.jsx)("input",{type:"number",value:e.resolution.width,onChange:e=>r(e,"width"),placeholder:"Width"}),Object(j.jsx)("input",{type:"number",value:e.resolution.height,onChange:e=>r(e,"height"),placeholder:"Height"})]})};const k=Object(c.createContext)(),J=e=>{let{children:t}=e;const[r,a]=Object(c.useState)({});return Object(c.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("shortcuts"));e&&a(e)}),[]),Object(c.useEffect)((()=>{localStorage.setItem("shortcuts",JSON.stringify(r))}),[r]),Object(j.jsx)(k.Provider,{value:{shortcuts:r,updateShortcut:(e,t)=>{a({...r,[e]:t})}},children:t})};var M=()=>Object(j.jsx)(O,{children:Object(j.jsx)(A,{children:Object(j.jsx)(J,{children:Object(j.jsx)(T,{children:Object(j.jsx)(L,{children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/login",component:N}),Object(j.jsx)(l.a,{path:"/admin",component:d}),Object(j.jsx)(l.a,{path:"/profile",component:U}),Object(j.jsx)(l.a,{path:"/",component:E})]})})})})})})}),V=r(113);var B=Object(V.a)({reducer:{radioHeads:radioHeadsReducer}});r(147);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(p.a,{store:B,children:Object(j.jsx)(M,{})})}),document.getElementById("root"))},86:function(e,t,r){}},[[148,1,2]]]);
//# sourceMappingURL=main.60bdc1d2.chunk.js.map